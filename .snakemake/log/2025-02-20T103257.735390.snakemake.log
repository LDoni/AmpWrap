Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 32
Rules claiming more threads will be scaled down.
Job stats:
job                      count
---------------------  -------
all                          1
dada2_assign_taxonomy        1
download_dada2_db            1
total                        3

Select jobs to execute...

[Thu Feb 20 10:32:58 2025]
rule download_dada2_db:
    output: db_s/dada2/rdp_train_set_19.fa.gz
    jobid: 18
    reason: Missing output files: db_s/dada2/rdp_train_set_19.fa.gz
    resources: tmpdir=/tmp

[Thu Feb 20 10:32:59 2025]
Finished job 18.
1 of 3 steps (33%) done
Select jobs to execute...

[Thu Feb 20 10:32:59 2025]
rule dada2_assign_taxonomy:
    input: /media/shared1/alessiam/dadawrap/benchmark_illu_species/intermediate/no_chimera_asvs.rds, db_s/dada2/rdp_train_set_19.fa.gz
    output: /media/shared1/alessiam/dadawrap/benchmark_illu_species/results/ASVs.fa, /media/shared1/alessiam/dadawrap/benchmark_illu_species/results/ASVs_counts.tsv, /media/shared1/alessiam/dadawrap/benchmark_illu_species/results/ASVs_taxonomy.tsv
    jobid: 19
    reason: Missing output files: /media/shared1/alessiam/dadawrap/benchmark_illu_species/results/ASVs_taxonomy.tsv, /media/shared1/alessiam/dadawrap/benchmark_illu_species/results/ASVs.fa, /media/shared1/alessiam/dadawrap/benchmark_illu_species/results/ASVs_counts.tsv; Input files updated by another job: db_s/dada2/rdp_train_set_19.fa.gz
    wildcards: output_dir=/media/shared1/alessiam/dadawrap/benchmark_illu_species
    resources: tmpdir=/tmp

[Thu Feb 20 10:33:06 2025]
Error in rule dada2_assign_taxonomy:
    jobid: 19
    input: /media/shared1/alessiam/dadawrap/benchmark_illu_species/intermediate/no_chimera_asvs.rds, db_s/dada2/rdp_train_set_19.fa.gz
    output: /media/shared1/alessiam/dadawrap/benchmark_illu_species/results/ASVs.fa, /media/shared1/alessiam/dadawrap/benchmark_illu_species/results/ASVs_counts.tsv, /media/shared1/alessiam/dadawrap/benchmark_illu_species/results/ASVs_taxonomy.tsv
    shell:
        
       if [[ dada2_RDP_genus19 == "decipher_silva138" ]]; then
           Rscript scripts/dada2_assign_taxonomy2.R /media/shared1/alessiam/dadawrap/benchmark_illu_species/intermediate/no_chimera_asvs.rds db_s/dada2/rdp_train_set_19.fa.gz /media/shared1/alessiam/dadawrap/benchmark_illu_species/results
       elif [[ dada2_RDP_genus19 == "dada2_silva_species138" ]]; then
           Rscript scripts/dada2_assign_taxonomy3.R /media/shared1/alessiam/dadawrap/benchmark_illu_species/intermediate/no_chimera_asvs.rds db_s/dada2/rdp_train_set_19.fa.gz /media/shared1/alessiam/dadawrap/benchmark_illu_species/results
       elif [[ dada2_RDP_genus19 == "dada2_silva_genus138" || dada2_RDP_genus19 == "dada2_RDP_genus19" || dada2_RDP_genus19 == "dada2_GG2_genus09" ]]; then
           Rscript scripts/dada2_assign_taxonomy.R /media/shared1/alessiam/dadawrap/benchmark_illu_species/intermediate/no_chimera_asvs.rds db_s/dada2/rdp_train_set_19.fa.gz /media/shared1/alessiam/dadawrap/benchmark_illu_species/results
       else
           echo "Error: method not valid. Choose among 'decipher_silva138', 'dada2_silva_genus138', 'dada2_silva_species138', 'dada2_RDP_genus19', or 'dada2_GG2_genus09'."
           exit 1
       fi
       
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-02-20T103257.735390.snakemake.log
