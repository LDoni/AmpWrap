Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 32
Rules claiming more threads will be scaled down.
Job stats:
job                      count
---------------------  -------
all                          1
dada2_assign_taxonomy        1
dada2_error_learning         1
dada2_filter                 1
dada2_infer_asvs             1
dada2_remove_chimeras        1
reporter                     1
track_reads                  1
total                        8

Select jobs to execute...

[Fri Mar 21 11:25:54 2025]
rule dada2_filter:
    input: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/figaro/trimParameters.json
    output: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/Lyb1_R1_filtered.fq.gz, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/Lyb1_R2_filtered.fq.gz, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/Lyb2_R1_filtered.fq.gz, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/Lyb2_R2_filtered.fq.gz, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/checkout.filter
    jobid: 19
    reason: Missing output files: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/checkout.filter, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/Lyb1_R2_filtered.fq.gz, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/Lyb2_R2_filtered.fq.gz, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/Lyb1_R1_filtered.fq.gz, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/Lyb2_R1_filtered.fq.gz
    resources: tmpdir=/tmp

[Fri Mar 21 11:26:10 2025]
Finished job 19.
1 of 8 steps (12%) done
Select jobs to execute...

[Fri Mar 21 11:26:10 2025]
rule dada2_error_learning:
    input: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/checkout.filter
    output: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_error_learning/err_forward_reads.rds, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_error_learning/err_reverse_reads.rds
    jobid: 20
    reason: Missing output files: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_error_learning/err_forward_reads.rds, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_error_learning/err_reverse_reads.rds; Input files updated by another job: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_filtered/checkout.filter
    resources: tmpdir=/tmp

[Fri Mar 21 11:27:30 2025]
Finished job 20.
2 of 8 steps (25%) done
Select jobs to execute...

[Fri Mar 21 11:27:30 2025]
rule dada2_infer_asvs:
    input: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_error_learning/err_forward_reads.rds, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_error_learning/err_reverse_reads.rds
    output: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/merged_asvs.rds
    jobid: 21
    reason: Missing output files: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/merged_asvs.rds; Input files updated by another job: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_error_learning/err_forward_reads.rds, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/dada2_error_learning/err_reverse_reads.rds
    wildcards: output_dir=/media/shared1/alessiam/dadawrap/datiseq_out
    resources: tmpdir=/tmp

[Fri Mar 21 11:27:53 2025]
Finished job 21.
3 of 8 steps (38%) done
Select jobs to execute...

[Fri Mar 21 11:27:53 2025]
rule dada2_remove_chimeras:
    input: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/merged_asvs.rds
    output: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/no_chimera_asvs.rds
    jobid: 22
    reason: Missing output files: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/no_chimera_asvs.rds; Input files updated by another job: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/merged_asvs.rds
    resources: tmpdir=/tmp

[Fri Mar 21 11:27:59 2025]
Finished job 22.
4 of 8 steps (50%) done
Select jobs to execute...
Failed to solve scheduling problem with ILP solver. Falling back to greedy solver. Run Snakemake with --verbose to see the full solver output for debugging the problem.

[Fri Mar 21 11:28:00 2025]
rule dada2_assign_taxonomy:
    input: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/no_chimera_asvs.rds, db_s/dada2/SILVA_SSU_r138_2019.RData
    output: /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs.fa, /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs_counts.tsv, /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs_taxonomy.tsv
    jobid: 24
    reason: Missing output files: /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs_counts.tsv, /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs_taxonomy.tsv, /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs.fa; Input files updated by another job: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/no_chimera_asvs.rds
    wildcards: output_dir=/media/shared1/alessiam/dadawrap/datiseq_out
    resources: tmpdir=/tmp


[Fri Mar 21 11:28:00 2025]
rule track_reads:
    input: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/merged_asvs.rds, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/no_chimera_asvs.rds
    output: /media/shared1/alessiam/dadawrap/datiseq_out/results/read-count-tracking.tsv
    jobid: 25
    reason: Missing output files: /media/shared1/alessiam/dadawrap/datiseq_out/results/read-count-tracking.tsv; Input files updated by another job: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/merged_asvs.rds, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/no_chimera_asvs.rds
    resources: tmpdir=/tmp

[Fri Mar 21 11:28:03 2025]
Finished job 25.
5 of 8 steps (62%) done
Select jobs to execute...

[Fri Mar 21 11:28:03 2025]
rule reporter:
    input: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/cutadapt/combined_cutadapt.log, /media/shared1/alessiam/dadawrap/datiseq_out/results/read-count-tracking.tsv, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/figaro/trimParameters.json
    output: /media/shared1/alessiam/dadawrap/datiseq_out/results/final_report.txt
    jobid: 26
    reason: Missing output files: /media/shared1/alessiam/dadawrap/datiseq_out/results/final_report.txt; Input files updated by another job: /media/shared1/alessiam/dadawrap/datiseq_out/results/read-count-tracking.tsv
    resources: tmpdir=/tmp

[Fri Mar 21 11:28:05 2025]
Error in rule reporter:
    jobid: 26
    input: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/cutadapt/combined_cutadapt.log, /media/shared1/alessiam/dadawrap/datiseq_out/results/read-count-tracking.tsv, /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/figaro/trimParameters.json
    output: /media/shared1/alessiam/dadawrap/datiseq_out/results/final_report.txt

RuleException:
CalledProcessError in file /media/shared1/alessiam/dadawrap/ampwrap/ampwrap/snakefile.short, line 371:
Command 'set -euo pipefail;  /home/ebosi/miniforge3/envs/AmpWraP-short/bin/python3.9 /media/shared1/alessiam/dadawrap/ampwrap/ampwrap/.snakemake/scripts/tmpkk2l7yio.reporter_short.py' returned non-zero exit status 1.
  File "/media/shared1/alessiam/dadawrap/ampwrap/ampwrap/snakefile.short", line 371, in __rule_reporter
  File "/home/ebosi/miniforge3/envs/AmpWraP-short/lib/python3.9/concurrent/futures/thread.py", line 58, in run
[Fri Mar 21 11:33:38 2025]
Error in rule dada2_assign_taxonomy:
    jobid: 24
    input: /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/no_chimera_asvs.rds, db_s/dada2/SILVA_SSU_r138_2019.RData
    output: /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs.fa, /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs_counts.tsv, /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs_taxonomy.tsv
    shell:
        
       if [[ decipher_silva138 == "decipher_silva138" ]]; then
           Rscript scripts/dada2_assign_taxonomy2.R /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/no_chimera_asvs.rds db_s/dada2/SILVA_SSU_r138_2019.RData /media/shared1/alessiam/dadawrap/datiseq_out/results
       elif [[ decipher_silva138 == "dada2_silva_genus138" || decipher_silva138 == "dada2_RDP_genus19" || decipher_silva138 == "dada2_GG2_genus09" ]]; then
           Rscript scripts/dada2_assign_taxonomy.R /media/shared1/alessiam/dadawrap/datiseq_out/intermediate/no_chimera_asvs.rds db_s/dada2/SILVA_SSU_r138_2019.RData /media/shared1/alessiam/dadawrap/datiseq_out/results
       else
           echo "Error: method not valid. Choose among 'decipher_silva138', 'dada2_silva_genus138', 'dada2_RDP_genus19', or 'dada2_GG2_genus09'."
           exit 1
       fi
       
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job dada2_assign_taxonomy since they might be corrupted:
/media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs.fa, /media/shared1/alessiam/dadawrap/datiseq_out/results/ASVs_counts.tsv
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-03-21T112553.908676.snakemake.log
